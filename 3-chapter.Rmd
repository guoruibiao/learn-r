---
title: "运算符与流程控制"
output: html_notebook
---


### 运算符
说到编程语言，你理解中它是干什么的？在我的眼里，程序就是为了处理数据而生的。我们把原始数据扔给编程语言，经过一通拳打脚踢的处理后，将数据整理好，然后生成人类容易观察的形式（比如生成一张图表，生成一个网页）来展示出来。

那这个处理的过程是什么样的呢？想想小学时候的数学公式，把一堆数字进行各种加减乘除运算，就有了答案啦。而这些加减乘除，就是我们今天要写的 **“运算符”**。

在R语言中，除了加减乘除，我们还会有其他的运算，大致可以分为下面这么几类，大致看一下有个印象就可以，毕竟随着时间的流逝，我们会对它们越来越熟悉的。

- 算术运算符
- 关系运算符
- 逻辑运算符
- 赋值运算符
- 其他运算符


#### 算术运算符

先来定义俩变量（我们通过`c()`函数来创建基本数据类型中的向量）
```{r}
var1 = c(2, 5.5, 6)
var2 = c(8, 3,   4)
```


运算符 | 描述 | 运算举例 | 运算结果
--- | --- | --- | ---
`+` | 两个向量相加| `print(var1 + var2)` | `10.0  8.5  10.0`
`-` | 两个向量相减| `print(var1 - var2)` | `-6.0  2.5  2.0`
`*` | 两个向量相乘| `print(var1 * var2)` | `16.0 16.5 24.0`
`/` | 两个向量相除| `print(var1 / var2)` | `0.250000 1.833333 1.500000`
`%%` |两个向量求余数 | `print(var1 %% var2)` | `2.0 2.5 2.0`
`%/%` | 两个向量相除求商 | `print(var1 %/% var2)` | ` 0 1 1` 
`^` | 将第二向量作为第一个向量的指数| `print(var1 ^ var2)` | `256.000  166.375 1296.000` 


#### 关系运算符

先来定义俩变量（我们通过`c()`函数来创建基本数据类型中的向量）
```{r}
var1 = c(2, 5.5,  6,  9)
var2 = c(8, 2.5,  14, 9)
```

运算符 | 描述 | 运算举例 | 运算结果
--- | --- | --- | ---
`>` | 检查第一个向量的每个元素是否大于第二个向量的每个元素| `print(var1 > var2)` | `FALSE  TRUE FALSE FALSE`
`<` | 检查第一个向量的每个元素是否小于第二个向量的每个元素| `print(var1 < var2)` | `TRUE FALSE  TRUE FALSE`
`>=` | 检查第一个向量的每个元素是否大于等于第二个向量的每个元素| `print(var1 >= var2)` | `FALSE  TRUE FALSE  TRUE`
`<=` | 检查第一个向量的每个元素是否小于等于第二个向量的每个元素| `print(var1 <= var2)` | `TRUE FALSE  TRUE  TRUE`
`==` |检查第一个向量的每个元素是否等于第二个向量的每个元素 | `print(var1 == var2)` | `FALSE FALSE FALSE  TRUE`
`!=` | 检查第一个向量的每个元素是否不等于第二个向量的每个元素 | `print(var1 != var2)` | `TRUE  TRUE  TRUE FALSE` 

#### 逻辑运算符
逻辑运算符看起来稍微复杂了一点，但是它的结果看起来却很简单， 因为答案只可能是TRUE或者FALSE。在R语言中，逻辑运算符分为两大类：

- 一类是参与运算的向量，内部的每个元素都进行比较，有 `&`、 `|`、`!`
- 另一类是参与运算的向量，只是看第一个元素，其余的不进行比较, 有`&&`、 `||`

下面分别看看它们都是怎么运算的吧。

##### `&`运算

也被称之为“元素逻辑AND运算符”，具体的运算规则为：
第一个向量的每个元素 与 第二个向量的每个元素进行组合，俩都为TRUE，结果为TRUE；俩只要有一个为FALSE，结果就是FALSE。
```{r}
v <- c(3,1,TRUE,2+3i)
t <- c(4,1,FALSE,2+3i)
print(v&t)
```

##### `|`运算

也被称之为“元素逻辑OR运算符”，具体的运算规则为：
第一个向量的每个元素 与 第二个向量的每个元素进行组合，俩都为FALSE，结果为FALSE；俩只要有一个为TRUE，结果就是TRUE。
```{r}
v <- c(3,1,TRUE,2+3i)
t <- c(4,1,FALSE,2+3i)
print(v|t)
```

##### `！`运算

也被称之为“元素逻辑非运算符”，具体的运算规则为：
对向量的每一个元素进行取反判断。人家本身为TRUE的，变成FALSE；人家本身为FALSE的，变成TRUE。
```{r}
v <- c(3,1,TRUE,2+3i, FALSE)
print(!v)
```


##### `&&`运算

也被称之为“元素逻辑逻辑AND运算符”，具体的运算规则为：
取两个向量的第一个元素进行比较，俩都为TRUE，结果为TRUE；俩只要有一个为FALSE，结果就是FALSE。
```{r}
v <- c(3,1,TRUE,2+3i)
t <- c(4,1,FALSE,2+3i)
print(v|t)
```


##### `||`运算

也被称之为“元素逻辑逻辑OR运算符”，具体的运算规则为：
取两个向量的第一个元素进行比较，俩都为FALSE，结果为FALSE；俩只要有一个为TRUE，结果就是TRUE。
```{r}
v <- c(3,0,TRUE,2+3i)
t <- c(4,0,FALSE,2+3i)
print(v|t)
```

#### 赋值运算符
赋值运算符在其他编程语言中，很可能只会有`=`符号来表示，在R语言中，就有很多变种，但是他们完成的功能是一样的。有`左分配` 和 `右分配`两种

##### 左分配
```{r}
v1 <- c(3,1,TRUE,2+3i)
v2 <<- c(3,1,TRUE,2+3i)
v3 = c(3,1,TRUE,2+3i)
print(v1)
print(v2)
print(v3)
```
可以看到，箭头是哪个方向，就叫什么分配，是不是很容易就记住了。

##### 右分配
```{r}
c(3,1,TRUE,2+3i) -> v1
c(3,1,TRUE,2+3i) ->> v2 
print(v1)
print(v2)
```

箭头往右，就叫右分配。

说完了左分配，右分配的，感觉很多样是吧。其实我们不用管那么多，只记住一个就好啦，那就是`=`。 随意一点，下次看到不一样的用法，知道有这么几个“分配”就好啦。


#### 其他运算符
这里要说的“其他运算符”可以说是R语言中特有的，就好比是“快捷键”一样，方便我们写代码用的。常见的有这仨 `:` `%in%` `%*%`, 下面分别来看看。

##### `:`冒号运算符
表示按顺序为向量创建一系列数字。
```{r}
variable = 2:8
print(variable)
```

##### `%in%`运算符
判断一个元素是否存在与一个向量中。
```{r}
variables = 2:8
target1 = 3
target2 = 9
print(target1 %in% variables)
print(target2 %in% variables)

```

##### `%*%` 运算符
该运算符应用于矩阵与其转置的乘积，比如：
```{r}
# 创建一个矩阵
m = matrix(c(1,2,3,4,5,6), nrow=2)
print(m)

# 获取矩阵的转置
tm = t(m)
print(tm)

# 求矩阵与矩阵转置的乘积
result = m %*% tm
print(result)
```



好不容易写完了，运算符好多啊，这些我都要学吗？答案是暂时不会也没关系，先混个脸熟，剩下的慢慢来，用着用着，就习惯啦。


### 流程控制