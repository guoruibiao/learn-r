---
title: "基础数据类型和语法"
output: html_notebook
---

### 语法
说到语法，你想到了什么？英语里面的固定表达对吧，是的，在编程语言中，也有这么一套约定俗成的规定。

对每一门编程语言来说，第一次被执行的通常是经典的 **hello world** 程序，在R语言中，我们也不能免俗，比如下面的代码就是一个最简单的R程序。
```{r}
print("hello world.")
```

如此，我们就学会了最简单的R语言编程啦。

通常来讲，在日常的编程过程中，我们不会简简单单的就写这么一行代码对吧。就像是写作文，一句两句大家都没什么问题，但是长篇累牍的文章，让别人看起来还是很费劲的，因此我们就需要 **注释**这么个东西，注释的作用就相当于对编程语言的翻译。它不会被R语言的引擎解释，只是帮助别人看代码的时候理解程序是干什么的。

- 单行注释
在R语言中，注释也有它固定的格式,那就是
> # 这里是注释内容

也就是说，以 `#` 字符开头的行，就是注释行。它后面的内容都不会被执行。

- 多行注释
有些时候，写的注释一行表述不了我们的意图，我们可以这么写
```{r}
# 第一行注释
# 第二行注释
```

一两行，两三行的注释很常见，但总会有需要写好多行的注释，这样每行一个 `#`字符，就显得很繁琐。如果我们偏偏要写很多行的注释，有没有更好的写法呢？答案是有的，只不过不是很好看罢了，如下：
```{r}
if(FALSE) {
  "第一行注释
  第二行注释
  第三行注释
  第四行注释
  。。。
  第N行注释"
}
```
从字面意思上来看：如果是FALSE，那么执行花括号里面的代码，这个判断条件是永远也不成立的，也就是花括号里面的代码永远也不会得到执行，这也就达到了我们的目的，实现了书写多行注释的需求。


### 基本数据类型
当提到程序，你的第一印象是什么？是不是一段代码在眼前飘过，然后花里胡哨的，不明所以的就出现了让人震惊的结果。

好比是给人看病，作为医生首先要知道这味药的功效是什么，能够治疗什么病症，那味药的功效是什么，能够治疗什么病症。而在编程语言的世界里，数据类型就是这样的一味味药，是我们盖房子时需要的基石。

R语言是一门脚本语言，或者说是动态语言。是听起来是不是一头雾水，这都什么跟什么呀。什么是动态语言？可以通俗的理解为：

> 变量的类型和值可以在程序执行的过程中被修改。

还是不够直白，举个🌰 

我知乎上叫“薛定谔的🐶”，过段时间我可以叫“薛定谔的🐱”，再过段时间我可以叫“薛定谔的🐂”等等，我可以一直换。这就好比是在“执行”的过程中动态地修改了变量（也就是我这个账号）的“值”（名字）；相同的场景，我没办法修改微信号（不是微信昵称哈），一旦我开始的时候申请了微信号，以后就都改不了了。

类比思考后是不是觉得有那么一点理解了，现阶段不理解也没关系。管他静态语言还是动态语言，能正确运行就完事。


好的，接下来看看都有哪几味药吧。哦，不对，是哪些个数据类型吧。

类型名称 | 解释
--- | ---
向量、矢量 | 最基础的数据类型，其他数据类型都建立在它之上。
列表 | 列表类型
矩阵 | 矩阵类型
数组 | 数组类型
因子 | 因子类型
数据帧 | 数据帧



一下子多了好多类型，换谁都会是一头雾水。但是这些又是基础的内容，不学是不行的，这时候就不要追求速度啦，咱慢点来,一个一个地来。


#### 向量、矢量类型
虽然是最最基础的数据类型，但它的内容可真不少。包括布尔类型(Logical)、数值类型(numberic)、整数类型(integer)、复数类型(complex)、字符类型(character)和原始类型(raw)。下面一个个地来实地测试一下。

##### 布尔类型
布尔类型，就是我们常说的： 真、假对应两个固定的值 TRUE、 FALSE
```{r}
print(TRUE)
print(FALSE)
```

回顾下上面讲**语法**部分的时候，我们借助FALSE实现了多行注释，就是因为FALSE的判断条件永远也不成立，花括号里面的代码永远也不会得到执行。

##### 数值类型
提到数值类型，从我们多年对生活的体验，我们可能会想到这么几种：

- 1、2、3、4、5、6、7、8、9、0
- 1.2、2.34、3.567

说对了，数值类型就是这样的。
```{r}
print(1)
print(2.2)
print(3.45)
```


##### 整数类型
和数值类型相似，但是多了一个特点，那就是数字后面 还附带了一个特殊的字符`L`,比如
1L  3L   5L   7L等等。

那么你可能会有疑问，这个整数类型是不是和上面的数值类型有覆盖呢？比如数值类型里也有1和3。它和整数类型里的1和3有什么区别呢？

Good question。按我的理解，在这个特殊的场景下，这俩没什么大的区别，无非是类型上稍有不同。数值类型表示的范围更广，有小数，也有整数，而整数类型能够表示的就只有整数。

在代码中，我们可以通过 `class()` 方法，来判断一个变量到底是什么类型。
```{r}
# 数值类型
print(class(1))
print(class(1.23))

# 整数类型
print(class(1L))
```

初次之外，我们暂且可以不用考虑这俩类型到底有什么区别啦。

##### 复数类型
不知道你还记不记得，[高中数学里的复数](https://baike.baidu.com/item/%E5%A4%8D%E6%95%B0/254365?fr=aladdin), R语言中的复数和它是一致的。

> A = B + Ci
> B 为实数部分， C为虚数部分
> i 是1i
> i*i 为0i

```{r}
print((1+1i)*(1-1i))
print((1+1i)*(1+1i))
```

在数学运算中，复数是一个很重要的概念，但对于现在的我们，了解下有这么个数据类型就够了，后面等用到的时候，咱们再进行讨论。


##### 字符类型

在R语言中，我们会很频繁的使用到这个数据类型。格式为英文的单引号或者英文的双引号 包裹起来的内容，比如：
```{r}
'a'
'abc'
"A"
"Hello   world"
"TRUE"
```

诸如此类，都是字符类型。再次回顾下刚才讲 “多行注释” 的时候，花括号括起来的那好几行的内容，正好是我们现在看到的“字符类型”的值。


##### 原始类型
想一想，你觉得什么是原始类型？

在程序的世界中，代码真正运行的时候，都会被计算机翻译成0和1，也就是说我们看到的这一行行的代码，通过R语言引擎（发动机）在实际上被运行的时候都会被编码成计算机识别的内容，变成一串二进制的数据流。

举个例子，我们看到的“hello”这五个单词，用原始类型表示就变成了
```{r}
# 48 65 6c 6c 6f
```

你可能会好奇，为什么h变成了48呢？究竟是怎么变的呢？在解释之前，我们先来看下一个叫[ASCII码(American Standard Code for Information Interchange): 美国信息交换标准代码)](https://baike.baidu.com/item/ASCII/309296)的东西。 在链接中，我们从网页上的表格上看到：

> 字母h对应的ASCII码是72，也就是 64 + 8。

而104的十六进制表示为48，这也就是为什么h对应的原始类型为48了。那么十六进制又是个什么东西呢？我们来先看下下面的几个例子就明白了。

十进制 | 二进制（Binary） | 八进制（Octal） | 十六进制（Hex）
--- | --- | --- | ---
1 | 0b1 | 0o1 | 0x1
8 | 0b1000 | 0o10 | 0x8
10 | 0b1010 | 0o12 | 0xa

乍一看，怎么这么多0开头的东西。不要慌，这些都是规定，了解下就好了。比如
- 二进制开头需要是`0b`, 后面跟一堆0和1的串，只能是0和1，二进制最大数字是1
- 八进制以`0o`开头（数字零和小写字母o），然后后面是0，1，2，3，4，5，6，7，不会超过7哈，因为八进制的最大数字是7
- 十进制 就是咱们平时接触的0、1、2、3、4、5、6、7、8、9 最大数字不会超过9哦
- 十六进制，除了0、1、2、3、4、5、6、7、8、9、以外，10（用字母a，不区分大小写）来表示，11（用字母B表示，不区分大小写）、12（用字母C表示）、13（用字母D表示）、14（用字母E表示）、15（用字母f表示）。同样的十六进制的最大数字是15。

那回头来看十进制的72，用十六进制是如何表示的
> 64 + 8
> 也就是 4 * 16 + 8
> 即0x48

想了解具体的转换规则，可以看看下面的链接哦。
[以八进制为例，实施进制转换](https://baike.baidu.com/item/%E5%85%AB%E8%BF%9B%E5%88%B6)



---

到此，我们就可以先歇一歇，再回头看看 **向量、矢量**这里面都包含了哪些内容。后面讲解其他的数据类型的时候，还会用得到它们呢。


#### 列表、矩阵、数组

这三个有相似之处，所以放到一块来看。最直观的来看：
- 列表是一维的，参考一个只有x轴的坐标系
- 矩阵是二维的，参考一个x-y形式的坐标系
- 数组是N维的（N可以是1、2、3，甚至是大于3的整数），数组是不是就不难理解啦，如果N=1，那它就是个列表；  如果N=2，那它就是个矩阵；  如果N=3，那就是个x-y-z形式的空间坐标系呀，如果N>3呢，我没找到合适的比喻，哈哈哈，你可以自由发挥下（比如，撇开一个维度不去管它，那4维的就变成了3维，又变成了一个x-y-z形式的空间坐标系了不是）

单单是用文字来表述，总归是不够正式，咱们还是用代码来瞅瞅。

- 先来看看“列表”
```{r}
# 创建一个列表
list1 <- list(1, 2.34, 5+6i, "ABC", sin)
# 打印列表的值
print(list1)
```

列表的创建使用的关键字是`list()`,可以看到列表中的元素，数据类型很丰富，有咱们上面讲的数值型，整数型，字符型，甚至还有“函数（函数的内容后续章节会讲到的哈，先不用管它）”


- 看看“矩阵”
```{r}
M = matrix( c('a','a','b','c','b','a'), nrow = 2, ncol = 3, byrow = TRUE)
print(M)
```

矩阵的创建用到的关键字是`matrix()`, 是不是很形象的输出结果。代码里面用到了`c('a', 'a', 'b', 'c', 'b', 'a')` 和 `nrow=2` 和 `ncol=3` 以及 `byrow=TRUE`。他们分别是什么意思呢？

`c('a', 'a', 'b', 'c', 'b', 'a')` 意思是创建6个“基本数据类型”为字符数据类型的变量
`nrow=2` 即number of row 设置行数为2
`ncol=3` 即number of column 设置列数为3
`byrow=TRUE` 按照行来排列

接下来我们改变下参数的值，看看输出会不会有什么不同的。
```{r}
M = matrix( c('a','a','b','c','b','a'), nrow = 3, ncol = 2, byrow = TRUE)
print(M)
```

我们改变了`nrow=3` 和 `ncol=2` 然后矩阵就变成了3行2列

```{r}
M = matrix( c('a','a','b','c','b','a'), nrow = 2, ncol = 3, byrow = FALSE)
print(M)
```
观察输出结果，与第一个对比我们就改变了第四个参数`byrow=FALSE`然后，这6个数值就变成了按列优先的方式进行了排列。

因此不难发现，这几个参数分别起到了什么作用了吧。

- 看看“数组”
```{r}
a <- array(c('green','yellow'),dim = c(3,3,2))
print(a)
```

创建数组的关键字是`array()`，然后使用参数`dim= c(3, 3, 2)` 创建了一个拥有两个块，每个块儿内部分别是一个3X3的矩阵。那我们改变下参数，看看会有什么不一样的吧。

```{r}
a <- array(c('green','yellow'),dim = c(3,3,1))
print(a)
```

```{r}
a <- array(c('green','yellow'),dim = c(3,3,3))
print(a)
```



```{r}
a <- array(c('green','yellow'),dim = c(2,3,2))
print(a)
```


```{r}
a <- array(c('green','yellow'),dim = c(3,2,2))
print(a)
```






是不是发现了什么规律呢？

`dim`意思是`dimension` 维度的意思。`dim = c (nrow, ncol, number)`分别代表了要生成多少个个几行几列的矩阵。

知道了这些有什么用呢？不要着急，暂时确实没什么用，但今后这些东西都是基础，咱们还是得来了解下。

