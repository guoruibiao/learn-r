---
title: "函数与包"
output: html_notebook
---

### 函数

程序员给你的第一印象是什么？

秃头？格子衫？不修边幅？拖鞋大裤衩？

我自己作为一个小码农，程序员给我的第一感觉就是“懒”。为什么这么说呢？因为写代码的时候，程序员是能少写就少写，能不写就不写。俗称：“大事化小，小事化了”😜。

说这个跟今天的主题“函数”有什么联系吗？当然啦，要不我也不会写它的对吧。

再来一个现实生活中的例子：医生给人看病，对相似的病症，总会有一个“模板”式的药方。然后再针对每个人的病症的不同之处，稍加修改。这里的“模板”在编程语言的世界中，就可以称之为“函数”，只需要写一次，就可以被后续多个地方使用。

是不是感觉很省事？这就是“偷懒”的一个很好的提现。正是因为这种“偷懒”，程序员设计出了很多经典的设计模式，让软件工程不再是垒积木一般，越来越臃肿，而是恰到好处的变得更加高效，更加方便。

扯了蛮多的了，下面开始进入正题，讲讲R语言中的“函数”。

#### 内置函数
从字面意思上来看，“内置”就是自带的，对不？是的，我们之前说过R语言是一个发动机，内置了很多东西，其中就有很多的函数。下面来举几个例子吧，后面可能还会遇到它们哦。


**paste()** 函数

```{r}
final_string = paste("hello", "world")
print(final_string)
```


**print()** 函数

这个函数我们已经见过很多次了，不陌生吧😜
```{r}
print("世间美好与你环环相扣")
cat("栢松")
```

**sum()** 函数
```{r}
summary = sum(1:10)
print(summary)
```

类似的内置函数还有很多，等你我去发现呢。




#### 自定义函数

自定义的意思就是程序员编写的函数，其结构格式为：

```{r}
function_name <- function(arg_1, arg_2, ...) {
   Function body 
   return xxx
}
```

可以看到这个框架包含了这么几个内容：

- `function_name` 就是个变量名，按照咱们之前学习的如何给变量取名，随便取一个符合规范的名字就好
- `function()` 这是个关键字，是固定的哦
- `arg1, arg2, arg3 ...` 函数参数，可以根据需求随便写好多个参数
- `Function body`  函数体，这个里面也可以随便写，只要是R语言的代码，写啥都行哦
- `return xxx` 返回值，其中 `return`是关键字，固定的哦，而`xxx`就是要返回的值，根据函数的作用不同，不同的函数返回的内容也不一定相同。另外，返回值也可以不写，就省略掉`return`语句就好。


规则不能扯太多，否则要看不下去了是不是？那咱来个例子，看看怎么写一个函数吧。


- 问问魔镜，这个世界上谁最漂亮？

```{r}
mirror_say <- function(name) {
  # paste() 这个函数是内置函数，意思是把两个字符串拼接成一个字符串
  print(paste(name, "最美啦"))
}

# 调用刚才写好的函数
mirror_say("小李医生")
```


- 如何治疗感冒？

```{r}
# 定义一个函数
the_cure <- function(name, temperature) {
  if( name == "唐轩") {
    print("唐轩患的不是感冒哦，请您换个药方")
  }else {
    if(temperature > 37) {
      print("有点发烧，请加点治疗发烧的药品")
    }else {
      print("给开盒感康吧，好像只是普通的感冒呢")
    }
  }
}

# 调用函数进行测试
the_cure("唐轩", 37)
the_cure("张三", 36.5)
the_cure("张三", 39)
```


关于函数，咱们再多聊几句。实际上的函数有很多形式



- 带参数的和不带参数的
- 带返回值的和不带返回值的
#等等吧，我们平时也不需要过分关注这块，遇到了知道是怎么回事就好。

## 包